<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

    <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Регулярные выражения &middot; Fightmaster's blog
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-38362255-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>



    <!--<script type="text/javascript">-->
        <!--/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */-->
        <!--var disqus_shortname = 'fightmaster'; // required: replace example with your forum shortname-->

        <!--/* * * DON'T EDIT BELOW THIS LINE * * */-->
        <!--(function () {-->
            <!--var s = document.createElement('script'); s.async = true;-->
            <!--s.type = 'text/javascript';-->
            <!--s.src = '//' + disqus_shortname + '.disqus.com/count.js';-->
            <!--(document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);-->
        <!--}());-->
    <!--</script>-->
  <!-- Put this script tag to the <head> of your page -->
  <script type="text/javascript" src="//vk.com/js/api/openapi.js?136"></script>

  <script type="text/javascript">
      VK.init({apiId: 5813923, onlyWidgets: true});
  </script>
</head>


    <body>

        <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
            <img src="/public/avatar.jpeg">
        </a>
      </h1>
      <p class="lead">Скромный персональный блог <a href="https://twitter.com/old_fightmaster" target="_blank">@old_fightmaster</a></p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/">Блог</a>
      <a class="sidebar-nav-item" href="/php-lectures/00-contents.html">PHP-лекции</a>
      <a class="sidebar-nav-item" href="/recommendations/for-junior-php-developer.html">Рекомендации по php</a>
      <a class="sidebar-nav-item" href="/blog/archives/index.html">Архив</a>

      

      <!---->
      <!---->
        <!---->
          <!---->
        <!---->
      <!---->
        <!---->
      <!---->
        <!---->
          <!---->
            <!--<a class="sidebar-nav-item" href="/blog/archives/">Blog Archive</a>-->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
            <!--<a class="sidebar-nav-item" href="/categories/life/">Category: life</a>-->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
            <!--<a class="sidebar-nav-item" href="/categories/blog/">Category: blog</a>-->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
            <!--<a class="sidebar-nav-item" href="/categories/php/">Category: php</a>-->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
            <!--<a class="sidebar-nav-item" href="/categories/lectures/">Category: lectures</a>-->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
            <!--<a class="sidebar-nav-item" href="/categories/nginx/">Category: nginx</a>-->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
            <!--<a class="sidebar-nav-item" href="/categories/symfony2/">Category: symfony2</a>-->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
            <!--<a class="sidebar-nav-item" href="/categories/ubuntu/">Category: ubuntu</a>-->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
            <!--<a class="sidebar-nav-item" href="/categories/usa/">Category: usa</a>-->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
            <!--<a class="sidebar-nav-item" href="/categories/design-patterns/">Category: design patterns</a>-->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
            <!--<a class="sidebar-nav-item" href="/categories/unit-tests/">Category: unit tests</a>-->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
            <!--<a class="sidebar-nav-item" href="/categories/code-review/">Category: code review</a>-->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
            <!--<a class="sidebar-nav-item" href="/categories/clean-code/">Category: clean code</a>-->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
            <!--<a class="sidebar-nav-item" href="/categories/handbook/">Category: handbook</a>-->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
            <!--<a class="sidebar-nav-item" href="/categories/sport/">Category: sport</a>-->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
            <!--<a class="sidebar-nav-item" href="/categories/run/">Category: run</a>-->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
            <!--<a class="sidebar-nav-item" href="/categories/data-provider/">Category: data provider</a>-->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
            <!--<a class="sidebar-nav-item" href="/categories/refactoring/">Category: refactoring</a>-->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
            <!--<a class="sidebar-nav-item" href="/categories/amazon/">Category: amazon</a>-->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
            <!--<a class="sidebar-nav-item" href="/categories/kindle-paperwhite/">Category: kindle paperwhite</a>-->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
            <!--<a class="sidebar-nav-item" href="/categories/boolean-attribute/">Category: boolean attribute</a>-->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
            <!--<a class="sidebar-nav-item" href="/categories/opensoft/">Category: opensoft</a>-->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
            <!--<a class="sidebar-nav-item" href="/categories/recommendations/">Category: recommendations</a>-->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
            <!--<a class="sidebar-nav-item" href="/categories/git/">Category: git</a>-->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
            <!--<a class="sidebar-nav-item" href="/categories/merge/">Category: merge</a>-->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
            <!--<a class="sidebar-nav-item" href="/categories/high-load/">Category: high load</a>-->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
            <!--<a class="sidebar-nav-item" href="/categories/optimization/">Category: optimization</a>-->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
            <!--<a class="sidebar-nav-item" href="/categories/in-array/">Category: in_array</a>-->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
            <!--<a class="sidebar-nav-item" href="/categories/array-key-exists/">Category: array_key_exists</a>-->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
            <!--<a class="sidebar-nav-item" href="/categories/zhizn/">Category: жизнь</a>-->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
            <!--<a class="sidebar-nav-item" href="/categories/sport/">Category: спорт</a>-->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
            <!--<a class="sidebar-nav-item" href="/categories/trieilranningh/">Category: трейлраннинг</a>-->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
        <!---->
      <!---->
        <!---->
          <!---->
        <!---->
      <!---->
    </nav>

    <p>&copy; 2017. All rights reserved.</p>
  </div>
</div>


    <div class="content container">
        <div class="page">
  <h1 class="page-title">Регулярные выражения</h1>
  <h3>Краткое содержание лекции</h3>

<p><a href="06-regular-expressions-theoretical-tasks.html">Теоретические задания</a> |
<a href="06-regular-expressions-practical-tasks.html">Практические задания</a></p>

<blockquote><p>Whenever faced with a problem, some people say `Lets use AWK.' Now, they have two problems.</p><footer><strong>[D. Tilbrook</strong> <cite>1988]</cite></footer></blockquote>

<blockquote><p>Some people, when confronted with a problem, think <br/>“I know, I'll use regular expressions.” Now they have two problems.</p><footer><strong>[Jamie Zawinski</strong> <cite>12.08.1997]</cite></footer></blockquote>

<h4>Разделители</h4>

<p>Разделителем может быть любой символ не являющийся буквой, цифрой, обратной косой чертой или каким-либо пробельным символом.</p>

<p>Часто используемыми разделителями являются косые черты (/), знаки решетки (#) и тильды (~).</p>

<p>Не рекомендуется использовать метасимволы</p>

<h4>Спецсимволы</h4>

<p><code>[ ] \ / ^ $ . | ? * + ( ) { }</code></p>

<h4>Представление символов</h4>

<ul>
<li><code>\t</code> Табуляция</li>
<li><code>\v</code> Вертикальная табуляция</li>
<li><code>\r</code> Возврат каретки</li>
<li><code>\n</code> Перевод строки</li>
<li><code>\f</code> Конец страницы</li>
<li><code>\e</code> Escape-символ</li>
<li><code>\b</code> backspace Должен находиться внутри квадратных скобок (иначе интерпретируется как граница слова).</li>
</ul>

<h4>Символьные классы</h4>

<ul>
<li><code>\d</code> === <code>[0-9]</code> Цифра</li>
<li><code>\D</code> === <code>[^\d]</code> Любой символ, кроме цифры</li>
<li><code>\w</code> === <code>[A-Za-zА-Яа-я0-9_]</code> Символы, образующие «слово» (буквы, цифры и символ подчёркивания)</li>
<li><code>\W</code> === <code>[^\w]</code> Символы, не образующие «слово»</li>
<li><code>\s</code> === <code>[ \t\v\r\n\f]</code> Пробельный символ</li>
<li><code>\S</code> === <code>[^\s]</code> Не пробельный символ</li>
</ul>
<div class="highlight"><pre><code class="language-php" data-lang="php"><span></span><span class="cp">&lt;?php</span>
<span class="nb">preg_match_all</span><span class="p">(</span>
  <span class="s1">&#39;/(\d\d)\d/&#39;</span><span class="p">,</span>
    <span class="s1">&#39;123456 789 a10b11c12&#39;</span><span class="p">,</span>
    <span class="nv">$out</span>
<span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$out</span><span class="p">);</span>
<span class="cm">/*</span>
<span class="cm">Array</span>
<span class="cm">(</span>
<span class="cm">    [0] =&gt; Array</span>
<span class="cm">        (</span>
<span class="cm">            [0] =&gt; 123</span>
<span class="cm">            [1] =&gt; 456</span>
<span class="cm">            [2] =&gt; 789</span>
<span class="cm">        )</span>

<span class="cm">    [1] =&gt; Array</span>
<span class="cm">        (</span>
<span class="cm">            [0] =&gt; 12</span>
<span class="cm">            [1] =&gt; 45</span>
<span class="cm">            [2] =&gt; 78</span>
<span class="cm">        )</span>

<span class="cm">)</span>
<span class="cm">*/</span>

<span class="nb">preg_match_all</span><span class="p">(</span>
  <span class="s1">&#39;/(\d\d)\D/&#39;</span><span class="p">,</span>
    <span class="s1">&#39;123456 789 a10b11c12&#39;</span><span class="p">,</span>
    <span class="nv">$out</span>
<span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$out</span><span class="p">);</span>
<span class="cm">/*</span>
<span class="cm">Array</span>
<span class="cm">(</span>
<span class="cm">    [0] =&gt; Array</span>
<span class="cm">        (</span>
<span class="cm">            [0] =&gt; 56 </span>
<span class="cm">            [1] =&gt; 89 </span>
<span class="cm">            [2] =&gt; 10b</span>
<span class="cm">            [3] =&gt; 11c</span>
<span class="cm">        )</span>

<span class="cm">    [1] =&gt; Array</span>
<span class="cm">        (</span>
<span class="cm">            [0] =&gt; 56</span>
<span class="cm">            [1] =&gt; 89</span>
<span class="cm">            [2] =&gt; 10</span>
<span class="cm">            [3] =&gt; 11</span>
<span class="cm">        )</span>

<span class="cm">)</span>
<span class="cm">*/</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre></div>
<h4>Символьные классы POSIX</h4>

<ul>
<li><code>[:upper:]</code> === <code>[A-Z]</code>   Символы верхнего регистра</li>
<li><code>[:lower:]</code> === <code>[a-z]</code>   Символы нижнего регистра</li>
<li><code>[:alpha:]</code> === <code>[[:upper:][:lower:]]</code> Буквы</li>
<li><code>[:digit:]</code> === <code>[0-9]</code>, т. е. \d Цифры</li>
<li><code>[:xdigit:]</code> === <code>[[:digit:]A-Fa-f]</code> Шестнадцатеричные цифры</li>
<li><code>[:alnum:]</code> === <code>[[:alpha:][:digit:]]</code>    Буквы и цифры</li>
<li><code>[:word:]</code>    <code>[[:alnum:]_]</code>```, т. е. \w  Символы, образующие «слово»</li>
<li><code>[:punct:]</code>   <code>[-!&quot;#$%&amp;&#39;()*+,./:;&lt;=&gt;?@[\\\]_`{|}~]</code> Знаки пунктуации</li>
<li><code>[:blank:]</code>   <code>[ \t]</code>   Пробел и табуляция</li>
<li><code>[:space:]</code>   <code>[[:blank:]\v\r\n\f]</code>, т. е. \s   Пробельные символы</li>
<li><code>[:cntrl:]</code>   <code>[\x00-\x1F\x7F]</code> Управляющие символы</li>
<li><code>[:graph:]</code>   <code>[\x21-\x7E]</code> Печатные символы</li>
<li><code>[:print:]</code>   <code>[\x20-\x7E]</code>, т. е. [[:graph:] ] Печатные символы с пробелом</li>
</ul>

<h4>Метасимволы</h4>

<ul>
<li>Вне <code>[]</code>

<ul>
<li><code>\</code> - общий экранирующий символ, допускающий несколько вариантов применения</li>
<li><code>^</code> - декларирует начало данных (или строки в многострочном режиме)</li>
<li><code>$</code> - декларирует конец данных или до завершения строки (или окончание строки в многострочном режиме)</li>
<li><code>.</code> - соответствует любому символу, кроме перевода строки (по умолчанию)</li>
<li><code>[]</code> - начало описания символьного класса / конец описания символьного класса</li>
<li><code>()</code> - начало подмаски / конец подмаски</li>
<li><code>|</code> - начало ветки условного выбора</li>
<li><code>?</code> - расширяет смысл метасимвола (, является также квантификатором, означающим отсутствие либо ровно 1 вхождение, также преобразует жадные квантификаторы в ленивые (смотрите повторение)</li>
<li><code>*</code> - квантификатор, означающий 0 или более вхождений</li>
<li><code>+</code> - квантификатор, означающий 1 или более вхождений</li>
<li><code>{}</code> - начало количественного квантификатора / конец количественного квантификатора</li>
</ul></li>
<li><p>Внутри <code>[]</code></p>

<ul>
<li><code>\</code> - общий экранирующий символ</li>
<li><code>^</code> - означает отрицание класса, допустим только в начале класса</li>
<li><code>-</code> - означает символьный интервал</li>
<li><code>]</code> = завершает символьный класс</li>
</ul></li>
<li><p><code>^</code> Начало строки <code>^a</code>  <strong>a</strong>aa aaa</p></li>
<li><p><code>$</code> Конец строки  <code>a$</code>  aaa aa<strong>a</strong></p></li>
<li><p><code>\b</code> Граница слова <code>a\b</code>  aa<strong>a</strong> aa<strong>a</strong></p></li>
<li><p><code>\ba</code> <strong>a</strong>aa <strong>a</strong>aa</p></li>
<li><p><code>\B</code> Не граница слова  <code>\Ba\B</code> a<strong>a</strong>a a<strong>a</strong>a</p></li>
<li><p><code>\G</code> Предыдущий успешный поиск   <code>\Ga</code> <strong><em>aaa</em></strong> aaa (поиск остановился на 4-й позиции — там, где не нашлось a)</p></li>
<li></li>
</ul>
<div class="highlight"><pre><code class="language-php" data-lang="php"><span></span><span class="cp">&lt;?php</span>
<span class="nb">preg_match_all</span><span class="p">(</span>
  <span class="s1">&#39;/(\d\d)\b\D/&#39;</span><span class="p">,</span>
    <span class="s1">&#39;123456 789 a10b11c12&#39;</span><span class="p">,</span>
    <span class="nv">$out</span>
<span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$out</span><span class="p">);</span>
<span class="cm">/*</span>
<span class="cm">Array</span>
<span class="cm">(</span>
<span class="cm">    [0] =&gt; Array</span>
<span class="cm">        (</span>
<span class="cm">            [0] =&gt; 56 </span>
<span class="cm">            [1] =&gt; 89 </span>
<span class="cm">        )</span>

<span class="cm">    [1] =&gt; Array</span>
<span class="cm">        (</span>
<span class="cm">            [0] =&gt; 56</span>
<span class="cm">            [1] =&gt; 89</span>
<span class="cm">        )</span>

<span class="cm">)</span>
<span class="cm">*/</span>

<span class="nb">preg_match_all</span><span class="p">(</span>
  <span class="s1">&#39;/\G(\d\d)/&#39;</span><span class="p">,</span>
    <span class="s1">&#39;123456 789 a10b11c12&#39;</span><span class="p">,</span>
    <span class="nv">$out</span>
<span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$out</span><span class="p">);</span>
<span class="cm">/*</span>
<span class="cm">Array</span>
<span class="cm">(</span>
<span class="cm">    [0] =&gt; Array</span>
<span class="cm">        (</span>
<span class="cm">            [0] =&gt; 12</span>
<span class="cm">            [1] =&gt; 34</span>
<span class="cm">            [2] =&gt; 56</span>
<span class="cm">        )</span>

<span class="cm">    [1] =&gt; Array</span>
<span class="cm">        (</span>
<span class="cm">            [0] =&gt; 12</span>
<span class="cm">            [1] =&gt; 34</span>
<span class="cm">            [2] =&gt; 56</span>
<span class="cm">        )</span>

<span class="cm">)</span>
<span class="cm">*/</span>

<span class="nb">preg_match_all</span><span class="p">(</span>
  <span class="s1">&#39;/^123/&#39;</span><span class="p">,</span>
    <span class="s1">&#39;123456 789 a10b11c12&#39;</span><span class="p">,</span>
    <span class="nv">$out</span>
<span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$out</span><span class="p">);</span>
<span class="cm">/*</span>
<span class="cm">Array</span>
<span class="cm">(</span>
<span class="cm">    [0] =&gt; Array</span>
<span class="cm">        (</span>
<span class="cm">            [0] =&gt; 123</span>
<span class="cm">        )</span>
<span class="cm">)</span>
<span class="cm">*/</span>

<span class="nb">preg_match_all</span><span class="p">(</span>
  <span class="s1">&#39;/[^123]/&#39;</span><span class="p">,</span>
    <span class="s1">&#39;123456 789 a10b11c12&#39;</span><span class="p">,</span>
    <span class="nv">$out</span>
<span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$out</span><span class="p">);</span>
<span class="cm">/*</span>
<span class="cm">Array</span>
<span class="cm">(</span>
<span class="cm">    [0] =&gt; Array</span>
<span class="cm">        (</span>
<span class="cm">            [0] =&gt; 4</span>
<span class="cm">            [1] =&gt; 5</span>
<span class="cm">            [2] =&gt; 6</span>
<span class="cm">            [3] =&gt;  </span>
<span class="cm">            [4] =&gt; 7</span>
<span class="cm">            [5] =&gt; 8</span>
<span class="cm">            [6] =&gt; 9</span>
<span class="cm">            [7] =&gt;  </span>
<span class="cm">            [8] =&gt; a</span>
<span class="cm">            [9] =&gt; 0</span>
<span class="cm">            [10] =&gt; b</span>
<span class="cm">            [11] =&gt; c</span>
<span class="cm">        )</span>
<span class="cm">)</span>
<span class="cm">*/</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre></div>
<h4>Квантификаторы</h4>

<p>Квантификаторы могу стоять за:</p>

<ul>
<li>произвольным, возможно экранированным, символом</li>
<li>метасимволом &quot;точка&quot;</li>
<li>символьным классом</li>
<li>ссылкой на предыдущий фрагмент шаблона (см. следующий раздел)</li>
<li><p>взятой в круглый скобки подмаской (если это не утверждение - см. далее)</p></li>
<li><p><code>{n}</code> Ровно n раз <code>colou{3}r</code> соответствует <code>colouuur</code></p></li>
<li><p><code>{m,n}</code> От m до n включительно <code>colou{2,4}r</code> соответствует <code>colouur, colouuur, colouuuur</code></p></li>
<li><p><code>{m,}</code> Не менее m  <code>colou{2,}r</code> соответствует <code>colouur, colouuur, colouuuur и т. д.</code></p></li>
<li><p><code>{,n}</code> Не более n  <code>colou{,3}r</code> соответствует <code>color, colour, colouur, colouuur</code></p></li>
<li><p><code>*</code> Ноль или более  {0,}  <code>colou*r</code> соответствует <code>color, colour и т. д.</code></p></li>
<li><p><code>+</code> Одно или более  {1,}  <code>olou+r</code> соответствует <code>colour, colouur и т. д. (но не color)</code></p></li>
<li><p><code>?</code> Ноль или одно   {0,1}  <code>colou?r</code> соответствует <code>color, colour</code></p></li>
<li><p>Жадность <code>?</code> после квантификатора</p></li>
</ul>
<div class="highlight"><pre><code class="language-php" data-lang="php"><span></span><span class="cp">&lt;?php</span>
<span class="nb">preg_match_all</span><span class="p">(</span>
    <span class="s1">&#39;/&lt;.*&gt;/&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&lt;h1&gt;Header&lt;/h1&gt;&lt;div&gt;body&lt;/div&gt;&#39;</span><span class="p">,</span>
    <span class="nv">$out</span>
<span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$out</span><span class="p">);</span>
<span class="cm">/*</span>
<span class="cm">Array</span>
<span class="cm">(</span>
<span class="cm">    [0] =&gt; Array</span>
<span class="cm">        (</span>
<span class="cm">            [0] =&gt; &lt;h1&gt;Header&lt;/h1&gt;&lt;div&gt;body&lt;/div&gt;</span>
<span class="cm">        )</span>
<span class="cm">)</span>
<span class="cm">*/</span>

<span class="nb">preg_match_all</span><span class="p">(</span>
    <span class="s1">&#39;/&lt;.*?&gt;/&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&lt;h1&gt;Header&lt;/h1&gt;&lt;div&gt;body&lt;/div&gt;&#39;</span><span class="p">,</span>
    <span class="nv">$out</span>
<span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$out</span><span class="p">);</span>
<span class="cm">/*</span>
<span class="cm">Array</span>
<span class="cm">(</span>
<span class="cm">    [0] =&gt; Array</span>
<span class="cm">        (</span>
<span class="cm">            [0] =&gt; &lt;h1&gt;</span>
<span class="cm">            [1] =&gt; &lt;/h1&gt;</span>
<span class="cm">            [2] =&gt; &lt;div&gt;</span>
<span class="cm">            [3] =&gt; &lt;/div&gt;</span>
<span class="cm">        )</span>
<span class="cm">)</span>
<span class="cm">*/</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre></div>
<ul>
<li>Захватывание <code>+</code> после квантификатора</li>
</ul>
<div class="highlight"><pre><code class="language-php" data-lang="php"><span></span><span class="cp">&lt;?php</span>
<span class="nb">preg_match_all</span><span class="p">(</span>
    <span class="s1">&#39;/ab(xa)*+a/&#39;</span><span class="p">,</span>
    <span class="s1">&#39;abxaabxaa&#39;</span><span class="p">,</span>
    <span class="nv">$out</span>
<span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$out</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre></div>
<h4>Подмаски</h4>

<ul>
<li><code>cat(aract|erpillar|)</code></li>
<li><code>the ((red|white) (king|queen))</code></li>
<li><code>the ((?:red|white) (king|queen))</code></li>
</ul>
<div class="highlight"><pre><code class="language-php" data-lang="php"><span></span><span class="cp">&lt;?php</span>
<span class="nb">preg_match_all</span><span class="p">(</span>
    <span class="s1">&#39;/(?:Chapter|Section) [1-9][0-9]{0,1}/U&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Chapter 50  Section 85&#39;</span><span class="p">,</span>
    <span class="nv">$out</span>
<span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$out</span><span class="p">);</span>
<span class="cm">/*</span>
<span class="cm">Array</span>
<span class="cm">(</span>
<span class="cm">    [0] =&gt; Array</span>
<span class="cm">        (</span>
<span class="cm">            [0] =&gt; Chapter 5</span>
<span class="cm">            [1] =&gt; Section 8</span>
<span class="cm">        )</span>
<span class="cm">)</span>
<span class="cm">*/</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre></div>
<ul>
<li><code>(?i:saturday|sunday)</code> === <code>(?:(?i)saturday|sunday)</code></li>
<li><code>(?:(Sat)ur|(Sun))day</code> vs <code>(?|(Sat)ur|(Sun))day</code></li>
</ul>
<div class="highlight"><pre><code class="language-php" data-lang="php"><span></span><span class="cp">&lt;?php</span>
<span class="nb">preg_match_all</span><span class="p">(</span>
    <span class="s1">&#39;/(?:(Chapter)|(Section)) [1-9][0-9]{0,1}/U&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Chapter 50  Section 85&#39;</span><span class="p">,</span>
    <span class="nv">$out</span>
<span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$out</span><span class="p">);</span>
<span class="cm">/*</span>
<span class="cm">Array</span>
<span class="cm">(</span>
<span class="cm">    [0] =&gt; Array</span>
<span class="cm">        (</span>
<span class="cm">            [0] =&gt; Chapter 5</span>
<span class="cm">            [1] =&gt; Section 8</span>
<span class="cm">        )</span>

<span class="cm">    [1] =&gt; Array</span>
<span class="cm">        (</span>
<span class="cm">            [0] =&gt; Chapter</span>
<span class="cm">            [1] =&gt; </span>
<span class="cm">        )</span>

<span class="cm">    [2] =&gt; Array</span>
<span class="cm">        (</span>
<span class="cm">            [0] =&gt; </span>
<span class="cm">            [1] =&gt; Section</span>
<span class="cm">        )</span>

<span class="cm">)</span>
<span class="cm">*/</span>
<span class="nb">preg_match_all</span><span class="p">(</span>
    <span class="s1">&#39;/(?|(Chapter)|(Section)) [1-9][0-9]{0,1}/U&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Chapter 50  Section 85&#39;</span><span class="p">,</span>
    <span class="nv">$out</span>
<span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$out</span><span class="p">);</span>
<span class="cm">/*</span>
<span class="cm">Array</span>
<span class="cm">(</span>
<span class="cm">    [0] =&gt; Array</span>
<span class="cm">        (</span>
<span class="cm">            [0] =&gt; Chapter 5</span>
<span class="cm">            [1] =&gt; Section 8</span>
<span class="cm">        )</span>

<span class="cm">    [1] =&gt; Array</span>
<span class="cm">        (</span>
<span class="cm">            [0] =&gt; Chapter</span>
<span class="cm">            [1] =&gt; Section</span>
<span class="cm">        )</span>
<span class="cm">)</span>
<span class="cm">*/</span>
<span class="nb">preg_match_all</span><span class="p">(</span>
    <span class="s1">&#39;/(?:(Chapter)|(Section)) [1-9][0-9]{0,1}/U&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Section 85&#39;</span><span class="p">,</span>
    <span class="nv">$out</span>
<span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$out</span><span class="p">);</span>
<span class="cm">/*</span>
<span class="cm">Array</span>
<span class="cm">(</span>
<span class="cm">    [0] =&gt; Array</span>
<span class="cm">        (</span>
<span class="cm">            [0] =&gt; Section 8</span>
<span class="cm">        )</span>

<span class="cm">    [1] =&gt; Array</span>
<span class="cm">        (</span>
<span class="cm">            [0] =&gt; </span>
<span class="cm">        )</span>

<span class="cm">    [2] =&gt; Array</span>
<span class="cm">        (</span>
<span class="cm">            [0] =&gt; Section</span>
<span class="cm">        )</span>

<span class="cm">)</span>
<span class="cm">*/</span>
<span class="nb">preg_match_all</span><span class="p">(</span>
    <span class="s1">&#39;/(?|(Chapter)|(Section)) [1-9][0-9]{0,1}/U&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Section 85&#39;</span><span class="p">,</span>
    <span class="nv">$out</span>
<span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$out</span><span class="p">);</span>
<span class="cm">/*</span>
<span class="cm">Array</span>
<span class="cm">(</span>
<span class="cm">    [0] =&gt; Array</span>
<span class="cm">        (</span>
<span class="cm">            [0] =&gt; Section 8</span>
<span class="cm">        )</span>

<span class="cm">    [1] =&gt; Array</span>
<span class="cm">        (</span>
<span class="cm">            [0] =&gt; Section</span>
<span class="cm">        )</span>
<span class="cm">)</span>
<span class="cm">*/</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre></div>
<ul>
<li><code>((?i)rah)\s+\1</code></li>
<li><code>(?P&lt;name&gt;pattern)</code> === <code>(?&lt;name&gt;pattern)</code> === <code>(?&#39;name&#39;pattern)</code></li>
</ul>

<p>Обращение к подмаскам <code>(?P=name)</code>, <code>\k&lt;name&gt;</code>, <code>k&#39;name&#39;</code>, <code>\1</code>, <code>\g1</code>, <code>\g{1}</code></p>
<div class="highlight"><pre><code class="language-php" data-lang="php"><span></span><span class="cp">&lt;?php</span>
<span class="nb">preg_match_all</span><span class="p">(</span>
  <span class="s1">&#39;/(та|ту)-\1/&#39;</span><span class="p">,</span>
    <span class="s1">&#39;та-та ту-ту та-ту&#39;</span><span class="p">,</span>
    <span class="nv">$out</span>
<span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$out</span><span class="p">);</span>
<span class="cm">/*</span>
<span class="cm">Array</span>
<span class="cm">(</span>
<span class="cm">    [0] =&gt; Array</span>
<span class="cm">        (</span>
<span class="cm">            [0] =&gt; та-та</span>
<span class="cm">            [1] =&gt; ту-ту</span>
<span class="cm">        )</span>

<span class="cm">    [1] =&gt; Array</span>
<span class="cm">        (</span>
<span class="cm">            [0] =&gt; та</span>
<span class="cm">            [1] =&gt; ту</span>
<span class="cm">        )</span>

<span class="cm">)</span>
<span class="cm">*/</span>

<span class="nb">preg_match_all</span><span class="p">(</span>
  <span class="s1">&#39;/(\d\d)\d \1/&#39;</span><span class="p">,</span>
    <span class="s1">&#39;123456 789 a10b11c12&#39;</span><span class="p">,</span>
    <span class="nv">$out</span>
<span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$out</span><span class="p">);</span>
<span class="cm">/*</span>
<span class="cm">Array</span>
<span class="cm">(</span>
<span class="cm">    [0] =&gt; Array</span>
<span class="cm">        (</span>
<span class="cm">        )</span>

<span class="cm">    [1] =&gt; Array</span>
<span class="cm">        (</span>
<span class="cm">        )</span>
<span class="cm">)</span>
<span class="cm">*/</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre></div>
<p>Что необходимо изменить в последнем примере для получения результата?</p>
<div class="highlight"><pre><code class="language-php" data-lang="php"><span></span><span class="cp">&lt;?php</span>
<span class="nb">preg_match_all</span><span class="p">(</span>
  <span class="s1">&#39;/(\d\d)\d \1/&#39;</span><span class="p">,</span>
    <span class="s1">&#39;123456 459 a10b11c12&#39;</span><span class="p">,</span>
    <span class="nv">$out</span>
<span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$out</span><span class="p">);</span>
<span class="cm">/*</span>
<span class="cm">Array</span>
<span class="cm">(</span>
<span class="cm">    [0] =&gt; Array</span>
<span class="cm">        (</span>
<span class="cm">            [0] =&gt; 456 45</span>
<span class="cm">        )</span>

<span class="cm">    [1] =&gt; Array</span>
<span class="cm">        (</span>
<span class="cm">            [0] =&gt; 45</span>
<span class="cm">        )</span>

<span class="cm">)</span>
<span class="cm">*/</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre></div>
<h4>Однократные подмаски ```(?&gt;\d+)bar</h4>
<div class="highlight"><pre><code class="language-php" data-lang="php"><span></span><span class="cp">&lt;?php</span>
<span class="nb">preg_match_all</span><span class="p">(</span>
  <span class="s1">&#39;/\d+foo/&#39;</span><span class="p">,</span>
    <span class="s1">&#39;123456bar&#39;</span><span class="p">,</span>
    <span class="nv">$out</span>
<span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$out</span><span class="p">);</span>

<span class="nb">preg_match_all</span><span class="p">(</span>
  <span class="s1">&#39;/(?&gt;\d+)foo/&#39;</span><span class="p">,</span>
    <span class="s1">&#39;123456bar&#39;</span><span class="p">,</span>
    <span class="nv">$out</span>
<span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$out</span><span class="p">);</span>

<span class="nb">preg_match_all</span><span class="p">(</span>
  <span class="s1">&#39;/^.*abcd$/&#39;</span><span class="p">,</span>
    <span class="s1">&#39;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&#39;</span><span class="p">,</span>
    <span class="nv">$out</span>
<span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$out</span><span class="p">);</span>

<span class="nb">preg_match_all</span><span class="p">(</span>
  <span class="s1">&#39;/^(?&gt;.*)(?&lt;=abcd)/&#39;</span><span class="p">,</span>
    <span class="s1">&#39;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&#39;</span><span class="p">,</span>
    <span class="nv">$out</span>
<span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$out</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre></div>
<h4>Просмотр вперед / назад</h4>

<ul>
<li><code>(?=шаблон)</code> Позитивный просмотр вперёд  <code>Людовик(?=XVI)</code>  ЛюдовикXV, <strong>Людовик</strong>XVI, <strong>Людовик</strong>XVIII, ЛюдовикLXVII, ЛюдовикXXL</li>
<li><code>(?!шаблон)</code>  Негативный просмотр вперёд (с отрицанием)   <code>Людовик(?!XVI)</code>  <strong>Людовик</strong>XV, ЛюдовикXVI, ЛюдовикXVIII, <strong>Людовик</strong>LXVII, <strong>Людовик</strong>XXL</li>
<li><code>(?&lt;=шаблон)</code> Позитивный просмотр назад   <code>(?&lt;=Сергей )Иванов</code>  Сергей <strong>Иванов</strong>, Игорь Иванов</li>
<li><code>(?&lt;!шаблон)</code> Негативный просмотр назад (с отрицанием)    <code>(?&lt;!Сергей )Иванов</code>  Сергей Иванов, Игорь <strong>Иванов</strong></li>
</ul>

<h4>Поиск по условию</h4>

<ul>
<li><code>(?(?=если)то|иначе)</code> Если операция просмотра успешна, то далее выполняется часть то, иначе выполняется часть иначе. В выражении может использоваться любая из четырёх операций просмотра. Следует учитывать, что операция просмотра нулевой ширины, поэтому части то в случае позитивного или иначе в случае негативного просмотра должны включать в себя описание шаблона из операции просмотра. <code>(?(?&lt;=а)м|п)</code>    <strong>м</strong>ам,<strong>п</strong>ап</li>
<li><code>(?(n)то|иначе)</code>  Если n-я группа вернула значение, то поиск по условию выполняется по шаблону то, иначе по шаблону иначе. <code>(а)?(?(1)м|п)</code>  м<strong>ам</strong>,<strong>п</strong>а<strong>п</strong></li>
</ul>

<h4>Рекурсия</h4>

<h4>Модификаторы</h4>

<p>Модификаторы действуют с момента вхождения и до конца регулярного выражения или противоположного модификатора. Некоторые интерпретаторы могут применить модификатор ко всему выражению, а не с момента его вхождения.</p>

<ul>
<li>i (PCRE_CASELESS) - нечувствительность выражения к регистру символов (англ. case insensitivity)</li>
<li>m (PCRE_MULTILINE) - Символы ^ и $ вызывают соответствие только (после и до символов новой строки|с началом и концом строки)</li>
<li>s (PCRE_DOTALL) - режим соответствия точки символам переноса строки и возврата каретки</li>
<li>x (PCRE_EXTENDED) - режим без учёта пробелов между частями регулярного выражения и позволяет использовать # для комментариев</li>
</ul>

<p><code>(?i-sm)</code>
 <code>А(?#тут комментарий)Б</code></p>

<h5>Самостоятельно</h5>

<ul>
<li>e (PREG<em>REPLACE</em>EVAL)</li>
<li>A (PCRE_ANCHORED)</li>
<li>D (PCRE<em>DOLLAR</em>ENDONLY)</li>
<li>S</li>
<li>U (PCRE_UNGREEDY)</li>
<li>X (PCRE_EXTRA)</li>
<li>J (PCRE<em>INFO</em>JCHANGED)</li>
<li>u (PCRE_UTF8)</li>
</ul>

<h4>Функции для работы в php</h4>

<ul>
<li><code>string preg_quote ( string $str [, string $delimiter = null ] )</code></li>
</ul>

<p>Экранирует символы <code>\ + * ? [ ^ ] $ ( ) { } = ! &lt; &gt; | : -</code> в регулярных выражениях.</p>

<ul>
<li><p><code>array preg_grep ( string $pattern , array $input [, int $flags = 0 ] )</code></p></li>
<li><p><code>mixed preg_filter ( mixed $pattern , mixed $replacement , mixed $subject [, int $limit = -1 [, int &amp;$count ]] )</code></p></li>
<li><p><code>mixed preg_replace ( mixed $pattern , mixed $replacement , mixed $subject [, int $limit = -1 [, int &amp;$count ]] )</code></p></li>
</ul>
<div class="highlight"><pre><code class="language-php" data-lang="php"><span></span><span class="cp">&lt;?php</span>
<span class="nv">$subject</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;а&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;б&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;А&#39;</span><span class="p">,</span> <span class="s1">&#39;Б&#39;</span><span class="p">,</span> <span class="s1">&#39;4&#39;</span><span class="p">);</span> 
<span class="nv">$pattern</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;/\d/&#39;</span><span class="p">,</span> <span class="s1">&#39;/[а-я]/&#39;</span><span class="p">,</span> <span class="s1">&#39;/[1а]/&#39;</span><span class="p">);</span> 
<span class="nv">$replace</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;А:$0&#39;</span><span class="p">,</span> <span class="s1">&#39;Б:$0&#39;</span><span class="p">,</span> <span class="s1">&#39;В:$0&#39;</span><span class="p">);</span> 

<span class="nb">print_r</span><span class="p">(</span><span class="nb">preg_filter</span><span class="p">(</span><span class="nv">$pattern</span><span class="p">,</span> <span class="nv">$replace</span><span class="p">,</span> <span class="nv">$subject</span><span class="p">));</span> 

<span class="cm">/*</span>
<span class="cm">Array</span>
<span class="cm">(</span>
<span class="cm">    [0] =&gt; А:В:1</span>
<span class="cm">    [1] =&gt; Б:В:а</span>
<span class="cm">    [2] =&gt; А:2</span>
<span class="cm">    [3] =&gt; Б:б</span>
<span class="cm">    [4] =&gt; А:3</span>
<span class="cm">    [7] =&gt; А:4</span>
<span class="cm">)</span>
<span class="cm">*/</span>

<span class="nb">print_r</span><span class="p">(</span><span class="nb">preg_replace</span><span class="p">(</span><span class="nv">$pattern</span><span class="p">,</span> <span class="nv">$replace</span><span class="p">,</span> <span class="nv">$subject</span><span class="p">));</span> 

<span class="cm">/*</span>
<span class="cm">Array</span>
<span class="cm">(</span>
<span class="cm">    [0] =&gt; А:В:1</span>
<span class="cm">    [1] =&gt; Б:В:а</span>
<span class="cm">    [2] =&gt; А:2</span>
<span class="cm">    [3] =&gt; Б:б</span>
<span class="cm">    [4] =&gt; А:3</span>
<span class="cm">    [5] =&gt; А</span>
<span class="cm">    [6] =&gt; Б</span>
<span class="cm">    [7] =&gt; А:4</span>
<span class="cm">)</span>
<span class="cm">*/</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre></div>
<ul>
<li><code>array preg_split ( string $pattern , string $subject [, int $limit = -1 [, int $flags = 0 ]] )</code></li>
</ul>
<div class="highlight"><pre><code class="language-php" data-lang="php"><span></span><span class="cp">&lt;?php</span>
<span class="nv">$keywords</span> <span class="o">=</span> <span class="nb">preg_split</span><span class="p">(</span><span class="s2">&quot;/[\s,]+/&quot;</span><span class="p">,</span> <span class="s2">&quot;hypertext language, programming&quot;</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$keywords</span><span class="p">);</span>
<span class="cm">/*</span>
<span class="cm">Array</span>
<span class="cm">(</span>
<span class="cm">    [0] =&gt; hypertext</span>
<span class="cm">    [1] =&gt; language</span>
<span class="cm">    [2] =&gt; programming</span>
<span class="cm">)</span>
<span class="cm">*/</span>

<span class="nv">$str</span> <span class="o">=</span> <span class="s1">&#39;string&#39;</span><span class="p">;</span>
<span class="nv">$chars</span> <span class="o">=</span> <span class="nb">preg_split</span><span class="p">(</span><span class="s1">&#39;//&#39;</span><span class="p">,</span> <span class="nv">$str</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$chars</span><span class="p">);</span>
<span class="cm">/*</span>
<span class="cm">Array</span>
<span class="cm">(</span>
<span class="cm">    [0] =&gt; </span>
<span class="cm">    [1] =&gt; s</span>
<span class="cm">    [2] =&gt; t</span>
<span class="cm">    [3] =&gt; r</span>
<span class="cm">    [4] =&gt; i</span>
<span class="cm">    [5] =&gt; n</span>
<span class="cm">    [6] =&gt; g</span>
<span class="cm">    [7] =&gt; </span>
<span class="cm">)</span>
<span class="cm">*/</span>

<span class="nv">$str</span> <span class="o">=</span> <span class="s1">&#39;string&#39;</span><span class="p">;</span>
<span class="nv">$chars</span> <span class="o">=</span> <span class="nb">preg_split</span><span class="p">(</span><span class="s1">&#39;//&#39;</span><span class="p">,</span> <span class="nv">$str</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nx">PREG_SPLIT_NO_EMPTY</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$chars</span><span class="p">);</span>
<span class="cm">/*</span>
<span class="cm">Array</span>
<span class="cm">(</span>
<span class="cm">    [0] =&gt; s</span>
<span class="cm">    [1] =&gt; t</span>
<span class="cm">    [2] =&gt; r</span>
<span class="cm">    [3] =&gt; i</span>
<span class="cm">    [4] =&gt; n</span>
<span class="cm">    [5] =&gt; g</span>
<span class="cm">)</span>
<span class="cm">*/</span>

<span class="nv">$regexp_code</span> <span class="o">=</span> <span class="s2">&quot;/( )/U&quot;</span><span class="p">;</span>
<span class="nv">$regexp_text</span> <span class="o">=</span> <span class="s2">&quot;abccaxcc fff&quot;</span><span class="p">;</span>
<span class="nv">$out</span> <span class="o">=</span> <span class="nb">preg_split</span><span class="p">(</span><span class="nv">$regexp_code</span><span class="p">,</span><span class="nv">$regexp_text</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nx">PREG_SPLIT_DELIM_CAPTURE</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$out</span><span class="p">);</span>
<span class="cm">/*</span>
<span class="cm">Array</span>
<span class="cm">(</span>
<span class="cm">    [0] =&gt; abccaxcc</span>
<span class="cm">    [1] =&gt;  </span>
<span class="cm">    [2] =&gt; fff</span>
<span class="cm">)</span>
<span class="cm">*/</span>

<span class="nv">$regexp_code</span> <span class="o">=</span> <span class="s2">&quot;/( )/U&quot;</span><span class="p">;</span>
<span class="nv">$regexp_text</span> <span class="o">=</span> <span class="s2">&quot;abccaxcc fff&quot;</span><span class="p">;</span>
<span class="nv">$out</span> <span class="o">=</span> <span class="nb">preg_split</span><span class="p">(</span><span class="nv">$regexp_code</span><span class="p">,</span><span class="nv">$regexp_text</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nx">PREG_SPLIT_OFFSET_CAPTURE</span><span class="o">|</span><span class="nx">PREG_SPLIT_DELIM_CAPTURE</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$out</span><span class="p">);</span>
<span class="cm">/*</span>
<span class="cm">Array</span>
<span class="cm">(</span>
<span class="cm">    [0] =&gt; Array</span>
<span class="cm">        (</span>
<span class="cm">            [0] =&gt; abccaxcc</span>
<span class="cm">            [1] =&gt; 0</span>
<span class="cm">        )</span>

<span class="cm">    [1] =&gt; Array</span>
<span class="cm">        (</span>
<span class="cm">            [0] =&gt;  </span>
<span class="cm">            [1] =&gt; 8</span>
<span class="cm">        )</span>

<span class="cm">    [2] =&gt; Array</span>
<span class="cm">        (</span>
<span class="cm">            [0] =&gt; fff</span>
<span class="cm">            [1] =&gt; 9</span>
<span class="cm">        )</span>

<span class="cm">)</span>
<span class="cm">*/</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre></div>
<ul>
<li><code>int preg_match ( string $pattern , string $subject [, array &amp;$matches [, int $flags = 0 [, int $offset = 0 ]]] )</code></li>
</ul>
<div class="highlight"><pre><code class="language-php" data-lang="php"><span></span><span class="cp">&lt;?php</span>
<span class="nv">$subject</span> <span class="o">=</span> <span class="s2">&quot;abcdef&quot;</span><span class="p">;</span>
<span class="nv">$pattern</span> <span class="o">=</span> <span class="s1">&#39;/^def/&#39;</span><span class="p">;</span>
<span class="nb">preg_match</span><span class="p">(</span><span class="nv">$pattern</span><span class="p">,</span> <span class="nv">$subject</span><span class="p">,</span> <span class="nv">$matches</span><span class="p">,</span> <span class="nx">PREG_OFFSET_CAPTURE</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$matches</span><span class="p">);</span>
<span class="cm">/*</span>
<span class="cm">Array</span>
<span class="cm">(</span>
<span class="cm">)</span>
<span class="cm">*/</span>

<span class="nv">$subject</span> <span class="o">=</span> <span class="s2">&quot;abcdef&quot;</span><span class="p">;</span>
<span class="nv">$pattern</span> <span class="o">=</span> <span class="s1">&#39;/def/&#39;</span><span class="p">;</span>
<span class="nb">preg_match</span><span class="p">(</span><span class="nv">$pattern</span><span class="p">,</span> <span class="nv">$subject</span><span class="p">,</span> <span class="nv">$matches</span><span class="p">,</span> <span class="nx">PREG_OFFSET_CAPTURE</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$matches</span><span class="p">);</span>
<span class="cm">/*</span>
<span class="cm">Array</span>
<span class="cm">(</span>
<span class="cm">    [0] =&gt; Array</span>
<span class="cm">        (</span>
<span class="cm">            [0] =&gt; def</span>
<span class="cm">            [1] =&gt; 3</span>
<span class="cm">        )</span>

<span class="cm">)</span>
<span class="cm">*/</span>

<span class="nv">$subject</span> <span class="o">=</span> <span class="s2">&quot;abcdef&quot;</span><span class="p">;</span>
<span class="nv">$pattern</span> <span class="o">=</span> <span class="s1">&#39;/^def/&#39;</span><span class="p">;</span>
<span class="nb">preg_match</span><span class="p">(</span><span class="nv">$pattern</span><span class="p">,</span> <span class="nb">substr</span><span class="p">(</span><span class="nv">$subject</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="nv">$matches</span><span class="p">,</span> <span class="nx">PREG_OFFSET_CAPTURE</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$matches</span><span class="p">);</span>
<span class="cm">/*</span>
<span class="cm">Array</span>
<span class="cm">(</span>
<span class="cm">    [0] =&gt; Array</span>
<span class="cm">        (</span>
<span class="cm">            [0] =&gt; def</span>
<span class="cm">            [1] =&gt; 0</span>
<span class="cm">        )</span>

<span class="cm">)</span>
<span class="cm">*/</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre></div>
<ul>
<li><code>int preg_match_all ( string $pattern , string $subject [, array &amp;$matches [, int $flags = PREG_PATTERN_ORDER [, int $offset = 0 ]]] )</code></li>
</ul>
<div class="highlight"><pre><code class="language-php" data-lang="php"><span></span><span class="cp">&lt;?php</span>
<span class="nb">preg_match_all</span><span class="p">(</span>
    <span class="s2">&quot;|&lt;[^&gt;]+&gt;(.*)&lt;/[^&gt;]+&gt;|U&quot;</span><span class="p">,</span>
    <span class="s2">&quot;&lt;b&gt;пример: &lt;/b&gt;&lt;div align=left&gt;это тест&lt;/div&gt;&quot;</span><span class="p">,</span>
    <span class="nv">$out</span><span class="p">,</span> 
    <span class="nx">PREG_PATTERN_ORDER</span>
<span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$out</span><span class="p">);</span>
<span class="cm">/*</span>
<span class="cm">Array</span>
<span class="cm">(</span>
<span class="cm">    [0] =&gt; Array</span>
<span class="cm">        (</span>
<span class="cm">            [0] =&gt; &lt;b&gt;пример: &lt;/b&gt;</span>
<span class="cm">            [1] =&gt; &lt;div align=left&gt;это тест&lt;/div&gt;</span>
<span class="cm">        )</span>

<span class="cm">    [1] =&gt; Array</span>
<span class="cm">        (</span>
<span class="cm">            [0] =&gt; пример: </span>
<span class="cm">            [1] =&gt; это тест</span>
<span class="cm">        )</span>

<span class="cm">)</span>
<span class="cm">*/</span>

<span class="nb">preg_match_all</span><span class="p">(</span>
    <span class="s2">&quot;|&lt;[^&gt;]+&gt;(.*)&lt;/[^&gt;]+&gt;|U&quot;</span><span class="p">,</span>
    <span class="s2">&quot;&lt;b&gt;пример: &lt;/b&gt;&lt;div align=left&gt;это тест&lt;/div&gt;&quot;</span><span class="p">,</span>
    <span class="nv">$out</span><span class="p">,</span> 
    <span class="nx">PREG_SET_ORDER</span>
<span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$out</span><span class="p">);</span>

<span class="cm">/*</span>
<span class="cm">Array</span>
<span class="cm">(</span>
<span class="cm">    [0] =&gt; Array</span>
<span class="cm">        (</span>
<span class="cm">            [0] =&gt; &lt;b&gt;пример: &lt;/b&gt;</span>
<span class="cm">            [1] =&gt; пример: </span>
<span class="cm">        )</span>

<span class="cm">    [1] =&gt; Array</span>
<span class="cm">        (</span>
<span class="cm">            [0] =&gt; &lt;div align=left&gt;это тест&lt;/div&gt;</span>
<span class="cm">            [1] =&gt; это тест</span>
<span class="cm">        )</span>

<span class="cm">)</span>
<span class="cm">*/</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre></div>
<ul>
<li><code>int preg_last_error ( void )</code></li>
</ul>

<h4>Полезные ссылки</h4>

<ul>
<li><a href="http://www.pcre.ru/eval/">Конструктор регулярных выражений</a></li>
<li><a href="http://on-line-teaching.com/php/regexp.htm">Регулярные выражения</a></li>
<li><a href="http://ru.wikipedia.org/wiki/%D0%A0%D0%B5%D0%B3%D1%83%D0%BB%D1%8F%D1%80%D0%BD%D1%8B%D0%B5_%D0%B2%D1%8B%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F">Регулярные выражения (Wiki)</a></li>
</ul>

</div>

    </div>

        
  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>


        
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>


        
  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>


    </body>
</html>
